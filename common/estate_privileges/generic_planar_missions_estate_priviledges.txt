
generic_planar_missions_fey_lords_priviledge = {
	icon = privilege_religious
	loyalty = 0.05
	influence = 0.2
	max_absolutism = -20

	benefits = {
		tolerance_own = 1
	}
	
	conditional_modifier = {
		trigger = {
			mission_completed = seelie_work_with_the_fey_lords_mission
			NOT = { mission_completed = seelie_fey_lords_conscription_mission }
		}
		modifier = {
			max_absolutism = 5
			nobles_loyalty_modifier = 0.05
		}
	}
	conditional_modifier = {
		trigger = {
			mission_completed = seelie_fey_lords_conscription_mission
			NOT = { mission_completed = seelie_prosperous_forests_mission }
		}
		modifier = {
			max_absolutism = 10
			nobles_loyalty_modifier = 0.1
			nobles_privilege_slots = 1
		}
	}
	conditional_modifier = {
		trigger = { mission_completed = seelie_prosperous_forests_mission }
		modifier = {
			max_absolutism = 20
			nobles_loyalty_modifier = 0.10
			nobles_influence_modifier = -0.1
			nobles_privilege_slots = 1
		}
	}
	
	is_valid = {
		religion = seelie_court
	}
	can_select = {
		mission_completed = seelie_appease_the_fey_lords_mission
	}
	on_granted = {
		custom_tooltip = generic_planar_missions_fey_lords_priviledge_province_tooltip
	}
	can_revoke = {
		mission_completed = seelie_prosperous_forests_mission
	}
	#on_revoked = { }
	#on_invalid = { }
	#penalties = { }
	on_granted_province = {
		if = {
			limit = {
				OR = {
					has_terrain = woods
					has_terrain = forest
					has_terrain = ancient_forest
				}
			}
			if = {
				limit = { ROOT = { mission_completed = seelie_prosperous_forests_mission } }
				add_province_modifier = {
					name = fey_lords_developed_modifier
					duration = -1
				}
			}
			else_if = {
				limit = { ROOT = { mission_completed = seelie_fey_lords_conscription_mission } }
				add_province_modifier = {
					name = fey_lords_conscription_modifier
					duration = -1
				}
			}
			else_if = {
				limit = { ROOT = { mission_completed = seelie_work_with_the_fey_lords_mission } }
				add_province_modifier = {
					name = fey_lords_improved_modifier
					duration = -1
				}
			}
			else = {
				add_province_modifier = {
					name = fey_lords_normal_modifier
					duration = -1
				}
			}
		}
		if = {
			limit = { has_terrain = woods }
			add_province_modifier = {
				name = fey_lords_half_dev_woods
				duration = -1
			}
		}
		if = {
			limit = { has_terrain = forest }
			add_province_modifier = {
				name = fey_lords_half_dev_forest
				duration = -1
			}
		}
		if = {
			limit = { has_terrain = ancient_forest }
			add_province_modifier = {
				name = fey_lords_half_dev_ancient_forest
				duration = -1
			}
		}
	}
	on_invalid_province = {
		if = {
			limit = { has_province_modifier = fey_lords_normal_modifier }
			remove_province_modifier = fey_lords_normal_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_woods }
			remove_province_modifier = fey_lords_half_dev_woods
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_forest }
			remove_province_modifier = fey_lords_half_dev_forest
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_ancient_forest }
			remove_province_modifier = fey_lords_half_dev_ancient_forest
		}
		if = {
			limit = { has_province_modifier = fey_lords_improved_modifier }
			remove_province_modifier = fey_lords_improved_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_conscription_modifier }
			remove_province_modifier = fey_lords_conscription_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_developed_modifier }
			remove_province_modifier = fey_lords_developed_modifier
		}
	}
	on_revoked_province = {
		if = {
			limit = { has_province_modifier = fey_lords_normal_modifier }
			remove_province_modifier = fey_lords_normal_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_woods }
			remove_province_modifier = fey_lords_half_dev_woods
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_forest }
			remove_province_modifier = fey_lords_half_dev_forest
		}
		if = {
			limit = { has_province_modifier = fey_lords_half_dev_ancient_forest }
			remove_province_modifier = fey_lords_half_dev_ancient_forest
		}
		if = {
			limit = { has_province_modifier = fey_lords_improved_modifier }
			remove_province_modifier = fey_lords_improved_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_conscription_modifier }
			remove_province_modifier = fey_lords_conscription_modifier
		}
		if = {
			limit = { has_province_modifier = fey_lords_developed_modifier }
			remove_province_modifier = fey_lords_developed_modifier
		}
	}
	ai_will_do = {
		factor = 0
	}
}
